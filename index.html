<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–ú–∏–Ω–∏-–∏–≥—Ä—ã –¥–ª—è Telegram</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            background-color: #111;
            color: #fff;
            text-align: center;
        }
        canvas {
            border: 2px solid #fff;
            margin-top: 20px;
        }
        button {
            margin: 10px;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            background-color: #333;
            color: #fff;
            border: none;
            border-radius: 5px;
        }
        button:hover {
            background-color: #555;
        }
    </style>
</head>
<body>
    <h1>üéÆ –í—ã–±–µ—Ä–∏—Ç–µ –∏–≥—Ä—É</h1>
    <button onclick="showGame('arkanoid')">–ê—Ä–∫–∞–Ω–æ–∏–¥</button>
    <button onclick="showGame('tanks')">–¢–∞–Ω—á–∏–∫–∏</button>

    <canvas id="arkanoid" width="300" height="200" style="display:none;"></canvas>
    <canvas id="tanks" width="300" height="200" style="display:none;"></canvas>

    <script>
        function showGame(gameId) {
            document.getElementById('arkanoid').style.display = 'none';
            document.getElementById('tanks').style.display = 'none';
            if (gameId === 'arkanoid') initArkanoid();
            if (gameId === 'tanks') initTanks();
            document.getElementById(gameId).style.display = 'block';
        }

        // ------------------ –ê—Ä–∫–∞–Ω–æ–∏–¥ ------------------
        function initArkanoid() {
            const canvas = document.getElementById("arkanoid");
            const ctx = canvas.getContext("2d");

            let ballX = 150, ballY = 100, ballDX = 2, ballDY = -2, ballR = 5;
            let paddleW = 60, paddleH = 10;
            let paddleX = (canvas.width - paddleW) / 2;

            function draw() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                ctx.beginPath();
                ctx.arc(ballX, ballY, ballR, 0, Math.PI * 2);
                ctx.fillStyle = "#00ffcc";
                ctx.fill();
                ctx.closePath();

                ctx.beginPath();
                ctx.rect(paddleX, canvas.height - paddleH, paddleW, paddleH);
                ctx.fillStyle = "#ff00aa";
                ctx.fill();
                ctx.closePath();

                if(ballX + ballDX < ballR || ballX + ballDX > canvas.width - ballR) ballDX = -ballDX;
                if(ballY + ballDY < ballR) ballDY = -ballDY;
                else if(ballY + ballDY > canvas.height - ballR) {
                    if(ballX > paddleX && ballX < paddleX + paddleW) {
                        ballDY = -ballDY;
                    } else {
                        ballX = 150; ballY = 100;
                    }
                }

                ballX += ballDX;
                ballY += ballDY;
            }

            canvas.ontouchmove = (e) => {
                const x = e.touches[0].clientX - canvas.getBoundingClientRect().left;
                paddleX = x - paddleW / 2;
            };

            canvas.onmousemove = (e) => {
                const x = e.clientX - canvas.getBoundingClientRect().left;
                paddleX = x - paddleW / 2;
            };

            clearInterval(canvas._interval);
            canvas._interval = setInterval(draw, 20);
        }

        // ------------------ –¢–∞–Ω—á–∏–∫–∏ ------------------
        function initTanks() {
            const canvas = document.getElementById("tanks");
            const ctx = canvas.getContext("2d");
            let tank = { x: 140, y: 170, w: 20, h: 20 };
            let bullets = [];

            function draw() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                ctx.fillStyle = "green";
                ctx.fillRect(tank.x, tank.y, tank.w, tank.h);

                bullets.forEach((b, i) => {
                    b.y -= 4;
                    ctx.fillStyle = "red";
                    ctx.fillRect(b.x, b.y, 4, 10);
                    if (b.y < 0) bullets.splice(i, 1);
                });
            }

            canvas.addEventListener("touchmove", e => {
                let x = e.touches[0].clientX - canvas.getBoundingClientRect().left;
                tank.x = x - tank.w / 2;
            });

            canvas.addEventListener("mousemove", e => {
                let x = e.clientX - canvas.getBoundingClientRect().left;
                tank.x = x - tank.w / 2;
            });

            canvas.addEventListener("click", () => {
                bullets.push({ x: tank.x + tank.w / 2 - 2, y: tank.y });
            });

            clearInterval(canvas._interval);
            canvas._interval = setInterval(draw, 30);
        }
    </script>
</body>
</html>
